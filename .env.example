# =============================================================================
# AI DIGITAL TWIN - ENVIRONMENT CONFIGURATION
# =============================================================================
#
# üìã SETUP INSTRUCTIONS:
# 1. Copy this file to .env (do not commit .env to version control!)
# 2. Replace all placeholder values with your actual credentials
# 3. Ensure all required fields are filled before running the application
# 4. Keep your .env file secure and never share API keys
#
# ‚ö†Ô∏è SECURITY WARNING:
# - Never commit .env files with real credentials to Git
# - Add .env to your .gitignore file
# - Rotate keys immediately if accidentally exposed
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USERNAME:PASSWORD@HOST:PORT/DATABASE?sslmode=disable
# Example: postgresql://myuser:mypass@localhost:5432/digitaltwin?sslmode=disable
DATABASE_URL="postgresql://{{DB_USER}}:{{DB_PASSWORD}}@{{DB_HOST}}:{{DB_PORT}}/{{DB_NAME}}?sslmode=disable"

# -----------------------------------------------------------------------------
# AZURE OPENAI REALTIME API CONFIGURATION
# -----------------------------------------------------------------------------
# Your Azure OpenAI endpoint URL
# Example: https://your-resource.services.ai.azure.com/api/projects/yourProject
AZURE_OPENAI_ENDPOINT="https://{{YOUR_RESOURCE}}.services.ai.azure.com/api/projects/{{YOUR_PROJECT}}"

# Your Azure OpenAI API key (found in Azure Portal under Keys and Endpoint)
AZURE_OPENAI_API_KEY="{{YOUR_AZURE_OPENAI_API_KEY}}"

# Azure OpenAI model deployment name
# Recommended: gpt-4o-realtime-preview (for voice capabilities)
AZURE_OPENAI_MODEL="gpt-4o-realtime-preview"

# -----------------------------------------------------------------------------
# AZURE COGNITIVE SEARCH CONFIGURATION
# -----------------------------------------------------------------------------
# Azure Cognitive Search endpoint URL
# Example: https://your-search-service.search.windows.net
AZURE_SEARCH_ENDPOINT="https://{{YOUR_SEARCH_SERVICE}}.search.windows.net"

# Azure Search API key (Query key recommended for production)
AZURE_SEARCH_API_KEY="{{YOUR_AZURE_SEARCH_API_KEY}}"

# Azure Search index name containing your knowledge base
# This should match the index you created in Azure Cognitive Search
AZURE_SEARCH_INDEX="{{YOUR_INDEX_NAME}}"

# -----------------------------------------------------------------------------
# CUSTOM VOICE CONFIGURATION (Optional)
# -----------------------------------------------------------------------------
# If using Azure OpenAI custom voice, provide the deployment ID
# Find this in your Azure OpenAI Studio under Voice > Custom Voices
# Format: UUID (e.g., f589423b-e806-49da-b5e4-488bae656a84)
VOICE_DEPLOYMENT_ID="{{YOUR_VOICE_DEPLOYMENT_ID}}"

# Custom voice name identifier
# This should match the voice name you configured in Azure
# Example: "my_custom_voice" or "{{AVATAR_NAME_LOWERCASE}}_voice"
CUSTOM_VOICE_NAME="{{YOUR_CUSTOM_VOICE_NAME}}"

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
# Redis connection URL for session and conversation caching
# Format: redis://HOST:PORT or redis://USERNAME:PASSWORD@HOST:PORT
# Local development: redis://localhost:6379
# Production: Use Redis Cloud, Azure Cache for Redis, or similar
REDIS_URL="redis://{{REDIS_HOST}}:{{REDIS_PORT}}"

# -----------------------------------------------------------------------------
# NODE.JS TLS CONFIGURATION (Development Only)
# -----------------------------------------------------------------------------
# WARNING: Only use in development. Never disable TLS verification in production!
# Set to "0" to disable TLS certificate verification (local development only)
# Set to "1" or remove for production
NODE_TLS_REJECT_UNAUTHORIZED="0"

# =============================================================================
# CONFIGURATION CHECKLIST
# =============================================================================
# Before running the application, ensure:
# ‚úÖ DATABASE_URL points to a valid PostgreSQL database
# ‚úÖ AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set
# ‚úÖ AZURE_SEARCH_ENDPOINT, AZURE_SEARCH_API_KEY, and AZURE_SEARCH_INDEX are configured
# ‚úÖ REDIS_URL points to a running Redis instance
# ‚úÖ (Optional) VOICE_DEPLOYMENT_ID and CUSTOM_VOICE_NAME for custom voice
# ‚úÖ Prisma migrations have been run: pnpm prisma migrate dev
# ‚úÖ Knowledge base content is indexed in Azure Cognitive Search
#
# üîç TESTING YOUR SETUP:
# Run: pnpm run dev
# Visit: http://localhost:3000/api/health
# Should return: {"status":"ok","timestamp":"..."}
# =============================================================================

# -----------------------------------------------------------------------------
# OPTIONAL: ADDITIONAL CONFIGURATION
# -----------------------------------------------------------------------------
# Add any additional environment variables your deployment requires below:

# Application Port (default: 3000)
# PORT=3000

# Node Environment (development, production, test)
# NODE_ENV=development

# Log Level (debug, info, warn, error)
# LOG_LEVEL=info

# Session timeout in milliseconds (default: 30 minutes)
# SESSION_TIMEOUT=1800000

# Maximum conversation history length
# MAX_CONVERSATION_LENGTH=50

# Enable/disable analytics
# ENABLE_ANALYTICS=true
